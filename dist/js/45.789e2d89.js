"use strict";(self["webpackChunkcareer_guidance"]=self["webpackChunkcareer_guidance"]||[]).push([[45],{4045:function(e,a,t){t.r(a),t.d(a,{default:function(){return N}});var l=t(3396),n=t(9242);const s={class:"account"},i=(0,l._)("h1",{class:"account__title"},"Профиль",-1),c={class:"account__wrapper"},o={class:"account__item"},u=(0,l._)("span",{class:"account__item-text"},"Имя",-1),d={class:"account__item-input"},r={class:"account__item"},_=(0,l._)("span",{class:"account__item-text"},"Почта",-1),p={class:"account__item-input"},v=["disabled"],x={class:"account__item"},m=(0,l._)("span",{class:"account__item-text"},"Пароль",-1),f={class:"account__item-input"},b=["disabled"],g={class:"account__item"},w=(0,l._)("span",{class:"account__item-text"},"Город",-1),y={class:"account__item-input"},h=["disabled"],k=["selected"],z=["selected"],C=["selected"],H=["selected"],I={key:1},R={class:"account__back"};function D(e,a,t,D,U,V){return(0,l.wg)(),(0,l.iD)("div",s,[i,(0,l._)("div",c,[(0,l._)("div",o,[u,(0,l._)("span",d,[(0,l.wy)((0,l._)("input",{disabled:"",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>D.name=e),ref:"nameRef"},null,512),[[n.nr,D.name,void 0,{trim:!0}]])])]),(0,l._)("div",r,[_,(0,l._)("span",p,[(0,l.wy)((0,l._)("input",{disabled:D.disabled,type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>D.mail=e),ref:"mailRef"},null,8,v),[[n.nr,D.mail,void 0,{trim:!0}]])])]),(0,l._)("div",x,[m,(0,l._)("span",f,[(0,l.wy)((0,l._)("input",{disabled:D.disabled,type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>D.password=e),ref:"passwordRef"},null,8,b),[[n.nr,D.password,void 0,{trim:!0}]])])]),(0,l._)("div",g,[w,(0,l._)("span",y,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>D.location=e),disabled:D.disabled},[(0,l._)("option",{selected:"Алматы"===D.location,value:"Алматы"},"Алматы",8,k),(0,l._)("option",{selected:"Нур-Султан"===D.location,value:"Нур-Султан"},"Нур-Султан",8,z),(0,l._)("option",{selected:"Шымкент"===D.location,value:"Шымкент"},"Шымкент",8,C),(0,l._)("option",{selected:"Туркестан"===D.location,value:"Туркестан"},"Туркестан",8,H)],8,h),[[n.bM,D.location]])])])]),D.disabled?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"account__button btn white",onClick:a[4]||(a[4]=(...e)=>D.changeData&&D.changeData(...e))},"Изменить данные")):((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("button",{type:"button",class:"account__button btn green",onClick:a[5]||(a[5]=(...e)=>D.saveChanges&&D.saveChanges(...e))},"Сохранить изменения"),(0,l._)("a",{href:"#",onClick:a[6]||(a[6]=(...e)=>D.cancelChange&&D.cancelChange(...e))},"Отмена")])),(0,l._)("div",R,[(0,l._)("a",{href:"#",onClick:a[7]||(a[7]=a=>e.$router.go(-1))},"Назад")])])}var U=t(4870),V=t(65),$=(t(368),t(1120)),Z=t(4161),P={name:"Account",methods:{router(){return $.Z}},setup(){(0,l.bv)((()=>{a.value=c.filter((e=>e.id===parseInt(o)))[0].username,t.value=c.filter((e=>e.id===parseInt(o)))[0].email,s.value=c.filter((e=>e.id===parseInt(o)))[0].location,i.value=c.filter((e=>e.id===parseInt(o)))[0].role}));let e=(0,V.oR)(),a=(0,U.iH)(""),t=(0,U.iH)(""),n=(0,U.iH)(""),s=(0,U.iH)(""),i=(0,U.iH)(""),c=e.getters.getUsers,o=e.getters.getUserId,u=(0,U.iH)(!0),d=(0,U.iH)(!1),r=/^[a-zA-Z0-9_-]{4,16}$/,_=/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,p=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;const v=(0,U.iH)(null),x=(0,U.iH)(null),m=(0,U.iH)(null);let f=function(){function e(){return r.test(a.value)?(v.value.style.outline="1px solid black",!0):(v.value.style.outline="1px solid red",!1)}function l(){return p.test(t.value)?(m.value.style.outline="1px solid black",!0):(m.value.style.outline="1px solid red",!1)}function s(){return _.test(n.value)?(x.value.style.outline="1px solid black",!0):(x.value.style.outline="1px solid red",!1)}return!!(e()&&l()&&s())},b=function(){this.disabled=!1,x.value.type="text",n.value="",(0,l.YP)(a,((e,a)=>d.value=!0)),(0,l.YP)(t,((e,a)=>d.value=!0)),(0,l.YP)(n,((e,a)=>d.value=!0)),(0,l.YP)(s,((e,a)=>d.value=!0))},g=function(){this.disabled=!0,x.value.type="password",n.value="*****************"},w=function(){const{data:l}=Z.Z.put("user/"+o,{username:a.value,email:t.value,password:n.value,location:s.value});u.value=!0,e.commit("setNotificationInfo",{titleValue:"Успех",text:"Данные успешно изменены",mode:"success"}),d.value=!1,x.value.type="password"},y=function(){d.value?f()&&w():e.commit("setNotificationInfo",{titleValue:"Упс",text:"Похоже вы ничего не изменили",mode:"danger"})};return{name:a,mail:t,password:n,location:s,nameRef:v,passwordRef:x,mailRef:m,saveChanges:y,changeData:b,cancelChange:g,disabled:u}}},Y=t(89);const A=(0,Y.Z)(P,[["render",D]]);var N=A}}]);
//# sourceMappingURL=45.789e2d89.js.map