"use strict";(self["webpackChunkcareer_guidance"]=self["webpackChunkcareer_guidance"]||[]).push([[920],{7904:function(e,s,t){t.d(s,{Z:function(){return H}});var n=t(3396),i=t(7139),a=t(9242),o=t(8375),l=t(1791),u=t(1027),r=t(6258);const A={key:0,class:"comments"},c={class:"comments__title"},m={class:"comments__leaveAComment"},d={class:"comments__stars"},g=(0,n._)("label",{for:"5"},"☆",-1),p=(0,n._)("label",{for:"4"},"☆",-1),v=(0,n._)("label",{for:"3"},"☆",-1),_=(0,n._)("label",{for:"2"},"☆",-1),f=(0,n._)("label",{for:"1"},"☆",-1),w={class:"comments__input"},C={class:"comments__list"},k={class:"comments__user"},h={class:"comments__user-name"},I={class:"comments__user-date"},y={class:"comments__user-stars"},B={src:l,alt:"star"},U={class:"comments__item-text"},R={class:"comments__item-interaction"},T={class:"comments__item-response"},D={class:"comments__item-likes"},S=["onClick"],E={class:"comments__item-dislikes"},L=["onClick"],x={key:1,class:"spin-wrapper"},O=(0,n._)("div",{class:"spinner"},null,-1),b=[O];function Y(e,s,t,l,O,Y){return l.commentsArray.length>0?((0,n.wg)(),(0,n.iD)("div",A,[(0,n._)("h2",c,"Поделитесь со своми впечатлениями ("+(0,i.zw)(l.commentsArray.length)+")",1),(0,n._)("div",m,[(0,n._)("span",d,[(0,n._)("input",{type:"radio",name:"rating",value:"5",id:"5",onClick:s[0]||(s[0]=e=>l.starSave(e.target.value))}),g,(0,n._)("input",{type:"radio",name:"rating",value:"4",id:"4",onClick:s[1]||(s[1]=e=>l.starSave(e.target.value))}),p,(0,n._)("input",{type:"radio",name:"rating",value:"3",id:"3",onClick:s[2]||(s[2]=e=>l.starSave(e.target.value))}),v,(0,n._)("input",{type:"radio",name:"rating",value:"2",id:"2",onClick:s[3]||(s[3]=e=>l.starSave(e.target.value))}),_,(0,n._)("input",{type:"radio",name:"rating",value:"1",id:"1",onClick:s[4]||(s[4]=e=>l.starSave(e.target.value))}),f]),(0,n._)("div",w,[(0,n.wy)((0,n._)("input",{class:"comments__input-input",type:"text",placeholder:"Напишите комментарий",onKeyup:s[5]||(s[5]=(0,a.D2)(((...e)=>l.leaveAComment&&l.leaveAComment(...e)),["enter"])),"onUpdate:modelValue":s[6]||(s[6]=e=>l.inputComment=e)},null,544),[[a.nr,l.inputComment,void 0,{trim:!0}]]),(0,n._)("img",{class:"comments__input-img",src:o,alt:"arrow",onClick:s[7]||(s[7]=(...e)=>l.leaveAComment&&l.leaveAComment(...e))})])]),(0,n._)("div",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.values(l.commentsArray),((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"comments__item",key:e},[(0,n._)("div",k,[(0,n._)("div",h,(0,i.zw)(e.user),1),(0,n._)("div",I,(0,i.zw)(e.date),1),(0,n._)("div",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(e.stars),(e=>((0,n.wg)(),(0,n.iD)("img",B)))),256))])]),(0,n._)("div",U,(0,i.zw)(e.comment),1),(0,n._)("div",R,[(0,n._)("div",T,[(0,n._)("div",D,[(0,n._)("img",{onClick:t=>l.putLikeDis(e,e.usersIdLikes,e.usersIdDislikes,"liked","disliked",s),class:(0,i.C_)(["comments__item-interactionImage",l.isActive(e.usersIdLikes)?"active":""]),src:u,alt:"likes"},null,10,S),(0,n._)("span",null,(0,i.zw)(e.usersIdLikes.count),1)]),(0,n._)("div",E,[(0,n._)("img",{onClick:t=>l.putLikeDis(e,e.usersIdDislikes,e.usersIdLikes,"disliked","liked",s),class:(0,i.C_)(["comments__item-interactionImage",l.isActive(e.usersIdDislikes)?"active":""]),src:r,alt:"dislike"},null,10,L),(0,n._)("span",null,(0,i.zw)(e.usersIdDislikes.count),1)])])])])))),128))])])):((0,n.wg)(),(0,n.iD)("div",x,b))}t(7658);var N=t(4870),X=t(65),Q={name:"Comments",setup(){const e=(0,X.oR)();(0,n.bv)((async()=>{await e.dispatch("initialCommentsList")}));const s=function(s){return console.log(s),!(!s.users||!e.getters.getUserId)&&!!s.users.includes(parseInt(e.getters.getUserId))},t=new Date,i=t.getFullYear();let a=t.getMonth()+1,o=t.getDate();o<10&&(o="0"+o),a<10&&(a="0"+a);const l=o+"-"+a+"-"+i;let u=(0,N.iH)(0),r=(0,N.iH)(""),A=function(e){u.value=e};const c=async function(e,s,t,n,i){let a=e;"liked"===s?(a["usersIdLikes"]={count:t.count,users:t.users},void 0!=i.users&&(a["usersIdDislikes"]={count:i.count,users:i.users})):"disliked"===s&&(a["usersIdDislikes"]={count:t.count,users:t.users},void 0!=i.users&&(a["usersIdLikes"]={count:i.count,users:i.users})),await fetch("https://proffesion-choose-default-rtdb.firebaseio.com/comments/"+p.value[n]+".json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})};let m=async function(s,t,n,i,a,o){let l=parseInt(e.getters.getUserId);console.log(s),e.getters.getAuth?-1===t.users?.indexOf(l)&&-1===n.users?.indexOf(l)?(t.count+=1,t.users.push(l),await c(s,i,t,o,n)):void 0===t.users?(void 0!==n.users&&(n.users.splice(n.users.findIndex((e=>e===l)),1),n.count>0?n.count-=1:n.count=0),t.users=[l],t.count+=1,console.log("undefined mainInter.users",s),await c(s,i,t,o,n)):-1===t.users?.indexOf(l)&&-1!==n.users?.indexOf(l)?(t.count+=1,t.users.push(l),void 0!==n.users&&(n.users.splice(n.users.findIndex((e=>e===l)),1),n.count>0?n.count-=1:n.count=0),await c(s,i,t,o,n)):-1===t.users?.indexOf(l)||void 0!==n.users&&-1!==n.users?.indexOf(l)||(t.users.splice(t.users.findIndex((e=>e===l)),1),t.count>0?t.count-=1:t.count=0,await c(s,i,t,o,n)):(e.commit("toggleOpenedAuth"),document.body.style.overflow="hidden",document.documentElement.scrollTop=0)},d=async function(){if(e.getters.getAuth)if(""!==r.value&&0!==u.value){let s=e.getters.getUsers.filter((s=>s.id===parseInt(e.getters.getUserId))).map((e=>e.username)).toString();await fetch("https://proffesion-choose-default-rtdb.firebaseio.com/comments.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s,date:l,stars:u.value,comment:r.value,usersIdLikes:{count:0,users:[]},usersIdDislikes:{count:0,users:[]},openedInput:!1,inputValue:"",answered:[]})}).then((e=>{e.ok&&console.log("Успешно")}));await e.dispatch("initialCommentsList"),r.value=""}else alert("Пожалуйста, напишите комментарий и оцените тест по 5-и бальной шкале");else e.commit("toggleOpenedAuth"),document.body.style.overflow="hidden",document.documentElement.scrollTop=0},g=(0,n.Fl)((()=>Object.values(e.getters.getComments))),p=(0,n.Fl)((()=>Object.keys(e.getters.getComments)));return{commentsArray:g,putLikeDis:m,starSave:A,leaveAComment:d,inputComment:r,store:e,isActive:s}}},J=t(89);const j=(0,J.Z)(Q,[["render",Y]]);var H=j},1700:function(e,s,t){t.r(s),t.d(s,{default:function(){return T}});var n=t(3396),i=t(7139);const a={class:"test"},o={class:"test__title"};function l(e,s,t,l,u,r){const A=(0,n.up)("test-template"),c=(0,n.up)("comments");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",a,[(0,n._)("h1",o,(0,i.zw)(t.name),1),((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{name:t.name},null,8,["name"])])),_:1}))]),((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c)])),_:1}))],64)}var u=t(7904);const r={class:"test__questionCounter"},A={class:"test__question"},c={class:"test__question-name"},m={class:"test__question-answers"},d={class:"test__passed"},g={class:"test__questionNums"},p=["onClick"];function v(e,s,t,a,o,l){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,"Вопрос "+(0,i.zw)(a.questionNum+1),1),(0,n._)("div",A,[(0,n._)("div",c,(0,i.zw)(a.allTest[a.questionNum].question),1),(0,n._)("div",m,[(0,n._)("div",{class:"test__question-answer",onClick:s[0]||(s[0]=e=>a.nextQuestion(a.questionNum,a.allTest[a.questionNum],a.allTest[a.questionNum].score))},"Да"),(0,n._)("div",{class:"test__question-answer",onClick:s[1]||(s[1]=e=>a.nextQuestion(a.questionNum,a.allTest[a.questionNum],-1*a.allTest[a.questionNum].score))},"Нет"),(0,n._)("div",{class:"test__question-answer",onClick:s[2]||(s[2]=e=>a.nextQuestion(a.questionNum,a.allTest[a.questionNum],0))},"Затрудняюсь ответить")])]),(0,n._)("div",d," Вы ответили на "+(0,i.zw)(a.checkQuestionCompleted)+" из "+(0,i.zw)(a.allTest.length)+" вопросов ",1),(0,n._)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.allTest.length,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,i.C_)([a.allTest[e-1].isAnswered?"active":"","test__questionNum"]),onClick:s=>a.questionNum=e-1},(0,i.zw)(e),11,p)))),256))])],64)}t(7658);var _=t(4870),f=t(65),w=t(2483),C=t(1120),k=t(4161),h={name:"TestTemplate",props:["name"],async setup(e){let s=(0,_.iH)(0);const t=(0,f.oR)(),i=(0,w.yj)();await t.dispatch("initialQuestionList");const a=(0,n.Fl)((()=>t.getters.getTests)),o=(0,n.Fl)((()=>i.params.name)),l=a.value.filter((e=>e.name===o.value))[0].questions;let u=[];for(let n=0;n<l.length;n++){const e=l[n].questions;for(let s=0;s<e.length;s++)u.push(e[s]),u[u.length-1]["isAnswered"]=!1,u[u.length-1]["name"]=l[n].name}let r=(0,n.Fl)((()=>l.findIndex((e=>!1===e.isAnswered)))),A=(0,n.Fl)((()=>u.reduce(((e,s)=>e+(s.isAnswered?1:0)),0)));const c=async function(e){const s={headers:{"Content-Type":"application/json"},params:{keyName:e}};let{data:t}=await k.Z.post("profession/getProfessionsByKey",null,s);return t};function m(e){for(let s=e.length-1;s>0;s--){const t=Math.floor(Math.random()*(s+1));[e[s],e[t]]=[e[t],e[s]]}return e}let d={"человек-природа":0,"человек-техника":0,"человек-знаковая система":0,"человек-искусство":0,"человек-человек":0};function g(e){let s=-1/0,t=[];for(let n in e){let i=e[n];"number"===typeof i&&i>=s&&(i>s?(s=i,t=[n]):t.push(n))}return t}let p=async function(n,i,a){if(A.value+1!==u.length)u[n].isAnswered=!0,d[u[n].name]+=a,r.value>-1?s.value=r.value:s.value++;else{let s=g(d),n=[];for(let e=0;e<s.length;e++){let s=await c(g(d)[e]);n.push(s)}let i=[];for(let e=0;e<n[0].length;e++)i.push(n[0][e].name);if(t.getters.getAuth){const{data:s}=await k.Z.post("history",{name:e.name,result:JSON.stringify(i)});localStorage.setItem("test",JSON.stringify({name:e.name,result:i})),await k.Z.put("user/"+t.getters.getUserId,{history:{id:s.id,name:s.name,result:s.result}})}else localStorage.setItem("test",JSON.stringify({name:e.name,result:i}));setTimeout((()=>{C.Z.push("/result")}),250)}};return{questionNum:s,test:l,nextQuestion:p,checkQuestionCompleted:A,allTest:m(u)}}},I=t(89);const y=(0,I.Z)(h,[["render",v]]);var B=y,U={name:"Test",components:{TestTemplate:B,Comments:u.Z},props:["name"]};const R=(0,I.Z)(U,[["render",l]]);var T=R},8375:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGGSURBVHgB7ZdRToNAEIZnqS+kmvQIPYI3sL2BnsDyQC2+2BtIT6BPSsCE3qBHqN6gR+gRmmitRsvKlCiSlDrAxiXpfI+Thf34ITMLAMMwDMMw+8DAX/Vs/+WYvD5ctZ3gdQiKMagLUVgICA+EMaWIo7BYwxRA3FwGSxcUIiiLnIf3U5DRJK3IxaeMukH/cLZt/Y+whHa6UTS6s5suKICUtGxEs3jXeVoRrV2Je5Y5jx/yKXMPMK5VJU5KGtmW3l+JO8FyHOdynt2weuJkaaQu4oWkkTqIF5ZGdIuXkkZ0ipeWRnSJV5JGdIiTJ2Ie2JOlBCtbjfs4NCZ519zbzV627yd9fBA8d4BAZelN0vF4z1bjpGF9lnfNJunMm0FpcD376BEI1OKbToTNERDR3j2KCiNa+3QZYUTbRCwrjGg5e1QRRv79lFdVGCFJ10kYofXpD+gUER6GsgXCOPldUyWMkKS9vjlOp95uYeTWEgvZgO731FMpXJgyf+MX/tsVMAzDMAzDJHwBJTR4G5hsLGQAAAAASUVORK5CYII="},1791:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGBSURBVFiF7daxThRRGMXxn4tSkoAVDYRlCUEIMRpCLKm3kQSfQh4JEwhUxjewsKSEYLQSaAAlGm2kADRQzKwZZtgZ9u7MbiEnOclO5n73f757984M9+pOy3jZL/gM/sae60eALVzF3uw1vIHLRIA/mO5lgI0EvOX1XsEn3ew+uQpTvQjw5hZ4y2tVw8dwnhPgAhNVwUfd/Oe381Y89k56kLoeRj3hWTwR7e1Qh4HPcYzP+ISDlDPgfcXdleUvMVMtDjCAkQ477EaPE+x/eoYfqu/+FxbbJXuK7xXCf2KhaHlmcFIB/BTzRfCWpnFUIvybgDfmBA5LgJ+IjnKQ6rpbieN4jrbKHIWUDvA1NL2o+8xDpxPV8Fv4CpwpbjJXjS7gLTeKOsxTGd96uXP0PcDDguLZnHtXeBf/XpF9s95ljkJ9dPu+vsfzxLg5vG0zdi8U/kj262cbSzk1L/AhVXOBwZAA44lJdtDsoLaJ3UT9WEgAWBXtb8hZruEVXofC/w9dA1RhFydewrA9AAAAAElFTkSuQmCC"},6258:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACkSURBVHgB7ZTRCYUgGEY/vAs4gqO4QSPUnaA2aIRGcJRGaIY26LG3+iUEkQijvuihA+ellIOKAh8XMWIvLpl20VyX/Cv9R7UTaUWLfBqxOBqgdlZR4TwaJyIWBNJICwJxpMK2XdRICRIhYkA6jzhSg0iIaBBReIAQmfAARhyQ/16lFriB+iDgcBOOHfAM7IBmBzyWHfDoq4FfxphZHLHdpT/eygo5XkUtyHe/BAAAAABJRU5ErkJggg=="},1027:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACnSURBVHgB7ZXhDYMgEEa/dIJu0Nuk3aztBI6gKzgBOolsoBvoXYKJUUSinPGHL3lR//CCEAAuDLHGPdUCDdu7kGpAbJEYmgWiZ/JAHAT/GlRIBGE5g9E3EkCBgPhEAvJAYMtsPpiB/zeYAxHxI4PELvxeXmdEcEbEakcsW2tHfuOLVsSypXakYjvtyH/6oREp4HZVbMRiX8TL2rFCCB+QU+UC++LmKANI11fHUSkWRAAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=920.fa16be6e.js.map