{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, onMounted, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  name: \"Comments\",\n  setup() {\n    const store = useStore();\n    onMounted(async () => {\n      await store.dispatch('initialCommentsList');\n    });\n    const today = new Date();\n    const yyyy = today.getFullYear();\n    let mm = today.getMonth() + 1;\n    let dd = today.getDate();\n    if (dd < 10) dd = '0' + dd;\n    if (mm < 10) mm = '0' + mm;\n    const formattedToday = dd + '-' + mm + '-' + yyyy;\n    let starsCount = ref(0);\n    let inputComment = ref('');\n    let starSave = function (star) {\n      starsCount.value = star;\n    };\n    const saveData = async function (comment, main, mainInter, idx, oppositeInter) {\n      let bodyResult = comment;\n      if (main === 'liked') {\n        bodyResult['userIdLikes'] = {\n          count: mainInter.count,\n          users: mainInter.users\n        };\n        bodyResult['liked'] = true;\n        bodyResult['disliked'] = false;\n        if (oppositeInter.users != undefined) {\n          bodyResult['userIdDislikes'] = {\n            count: oppositeInter.count,\n            users: oppositeInter.users\n          };\n        }\n      } else if (main === 'disliked') {\n        bodyResult['userIdDislikes'] = {\n          count: mainInter.count,\n          users: mainInter.users\n        };\n        bodyResult['liked'] = false;\n        bodyResult['disliked'] = true;\n        if (oppositeInter.users != undefined) {\n          bodyResult['userIdLikes'] = {\n            count: oppositeInter.count,\n            users: oppositeInter.users\n          };\n        }\n      }\n      await fetch('https://proffesion-choose-default-rtdb.firebaseio.com/comments/' + commentsKeys.value[idx] + '.json', {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(bodyResult)\n      });\n    };\n    let putLikeDis = async function (comment, mainInter, oppositeInter, main, reverse, idx) {\n      let userId = parseInt(store.getters.getUserId);\n      if (store.getters.getAuth) {\n        if (mainInter.users?.indexOf(userId) == -1 && oppositeInter.users?.indexOf(userId) == -1) {\n          mainInter.count += 1;\n          mainInter.users.push(userId);\n          comment[main.replace(/'/g)] = true;\n          await saveData(comment, main, mainInter, idx, oppositeInter);\n        } else if (mainInter.users == undefined) {\n          if (oppositeInter.users != undefined) {\n            oppositeInter.users.splice(oppositeInter.users.findIndex(id => id === userId), 1);\n            oppositeInter.count -= 1;\n            comment[reverse.replace(/'/g)] = false;\n          }\n          mainInter.users = [parseInt(userId)];\n          mainInter.count += 1;\n          comment[main.replace(/'/g)] = true;\n          await saveData(comment, main, mainInter, idx, oppositeInter);\n        } else if (mainInter.users?.indexOf(userId) == -1 && oppositeInter.users?.indexOf(userId) != -1) {\n          mainInter.count += 1;\n          mainInter.users.push(userId);\n          if (oppositeInter.users != undefined) {\n            oppositeInter.users.splice(oppositeInter.users.findIndex(id => id === userId), 1);\n            oppositeInter.count -= 1;\n          }\n          comment[main.replace(/'/g)] = true;\n          comment[reverse.replace(/'/g)] = false;\n          await saveData(comment, main, mainInter, idx, oppositeInter);\n        } else if (mainInter.users?.indexOf(userId) != -1 && (oppositeInter.users == undefined || oppositeInter.users?.indexOf(userId) == -1)) {\n          mainInter.users.splice(mainInter.users.findIndex(id => id === userId), 1);\n          mainInter.count -= 1;\n          comment[main] = false;\n          await saveData(comment, main, mainInter, idx, oppositeInter);\n        }\n      } else {\n        store.commit('toggleOpenedAuth');\n        document.body.style.overflow = \"hidden\";\n        document.documentElement.scrollTop = 0;\n      }\n    };\n    let leaveAComment = async function () {\n      if (store.getters.getAuth) {\n        if (inputComment.value !== '' && starsCount.value !== 0) {\n          let userName = store.getters.getUsers.filter(el => el.id === parseInt(store.getters.getUserId)).map(map => map.username).toString();\n          const response = await fetch('https://proffesion-choose-default-rtdb.firebaseio.com/comments.json', {\n            method: 'POST',\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              user: userName,\n              date: formattedToday,\n              stars: starsCount.value,\n              comment: inputComment.value,\n              usersIdLikes: {\n                'count': 0,\n                users: []\n              },\n              usersIdDislikes: {\n                'count': 0,\n                users: []\n              },\n              liked: false,\n              disliked: false,\n              openedInput: false,\n              inputValue: '',\n              answered: []\n            })\n          }).then(res => {\n            if (res.ok) {\n              console.log('Успешно');\n            }\n          });\n          await store.dispatch('initialCommentsList');\n          inputComment.value = '';\n        } else {\n          alert('Пожалуйста, напишите комментарий и оцените тест по 5-и бальной шкале');\n        }\n      } else {\n        store.commit('toggleOpenedAuth');\n        document.body.style.overflow = \"hidden\";\n        document.documentElement.scrollTop = 0;\n      }\n    };\n    let commentsArray = computed(() => Object.values(store.getters.getComments));\n    let commentsKeys = computed(() => Object.keys(store.getters.getComments));\n    return {\n      commentsArray,\n      putLikeDis,\n      starSave,\n      leaveAComment,\n      inputComment,\n      store\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","useStore","name","setup","store","dispatch","today","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","formattedToday","starsCount","inputComment","starSave","star","value","saveData","comment","main","mainInter","idx","oppositeInter","bodyResult","count","users","undefined","fetch","commentsKeys","method","headers","body","JSON","stringify","putLikeDis","reverse","userId","parseInt","getters","getUserId","getAuth","indexOf","push","replace","splice","findIndex","id","commit","document","style","overflow","documentElement","scrollTop","leaveAComment","userName","getUsers","filter","el","map","username","toString","response","user","date","stars","usersIdLikes","usersIdDislikes","liked","disliked","openedInput","inputValue","answered","then","res","ok","console","log","alert","commentsArray","Object","values","getComments","keys"],"sources":["E:\\Vue\\career_guidance\\src\\components\\Comments.vue"],"sourcesContent":["<template>\r\n<div class=\"comments\" v-if=\"commentsArray.length > 0\">\r\n  <h2 class=\"comments__title\">Поделитесь со своми впечатлениями ({{ commentsArray.length }})</h2>\r\n  <div class=\"comments__leaveAComment\">\r\n    <span class=\"comments__stars\">\r\n      <input type=\"radio\" name=\"rating\" value=\"5\" id=\"5\" @click=\"starSave($event.target.value)\"><label for=\"5\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"4\" id=\"4\" @click=\"starSave($event.target.value)\"><label for=\"4\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"3\" id=\"3\" @click=\"starSave($event.target.value)\"><label for=\"3\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"2\" id=\"2\" @click=\"starSave($event.target.value)\"><label for=\"2\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"1\" id=\"1\" @click=\"starSave($event.target.value)\"><label for=\"1\">☆</label>\r\n    </span>\r\n    <div class=\"comments__input\">\r\n      <input\r\n          class=\"comments__input-input\"\r\n          type=\"text\"\r\n          placeholder=\"Напишите комментарий\"\r\n          v-on:keyup.enter=\"leaveAComment\"\r\n          v-model.trim=\"inputComment\"\r\n      >\r\n      <img\r\n          class=\"comments__input-img\"\r\n          src=\"../images/png/ArrowToRightBlue.png\"\r\n          alt=\"arrow\"\r\n          @click=\"leaveAComment\"\r\n      >\r\n    </div>\r\n  </div><!-- ./comments__leaveAComment -->\r\n  <div class=\"comments__list\">\r\n    <div class=\"comments__item\" v-for=\"(comment, idx) in Object.values(commentsArray)\" :key=\"comment\">\r\n      <div class=\"comments__user\">\r\n        <div class=\"comments__user-name\">{{ comment.user }}</div>\r\n        <div class=\"comments__user-date\">{{ comment.date }}</div>\r\n        <div class=\"comments__user-stars\">\r\n          <img src=\"../images/png/Star-black.png\" alt=\"star\" v-for=\"item in parseInt(comment.stars)\">\r\n        </div>\r\n      </div><!-- ./comments__user -->\r\n      <div class=\"comments__item-text\">{{ comment.comment }}</div>\r\n      <div class=\"comments__item-interaction\">\r\n        <div class=\"comments__item-response\">\r\n          <div class=\"comments__item-likes\">\r\n            <img\r\n                @click=\"putLikeDis(comment, comment.usersIdLikes, comment.usersIdDislikes, 'liked', 'disliked', idx)\"\r\n                class=\"comments__item-interactionImage\"\r\n                :class=\"comment.usersIdLikes.users.includes(store.getters.getUserId) ? 'active' : ''\"\r\n                src=\"../images/png/mdi_like.png\"\r\n                alt=\"likes\">\r\n            <span>{{ comment.usersIdLikes.count }}</span>\r\n          </div>\r\n          <div class=\"comments__item-dislikes\">\r\n            <img\r\n                @click=\"putLikeDis(comment, comment.usersIdDislikes, comment.usersIdLikes, 'disliked', 'liked', idx)\"\r\n                class=\"comments__item-interactionImage\"\r\n                :class=\"comment.disliked ? 'active' : ''\"\r\n                src=\"../images/png/mdi_dislike.png\"\r\n                alt=\"dislike\">\r\n            <span>{{ comment.usersIdDislikes.count }}</span>\r\n          </div><!-- ./comments__item-dislikes -->\r\n        </div><!-- ./comments__item-response -->\r\n      </div><!-- ./comments__item-interaction -->\r\n    </div><!-- ./comments__item -->\r\n  </div><!-- ./comments__list -->\r\n</div><!-- ./comments -->\r\n  <div class=\"spin-wrapper\" v-else>\r\n    <div class=\"spinner\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {computed, onMounted, ref} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Comments\",\r\n  setup () {\r\n    const store = useStore()\r\n    onMounted(async () => {\r\n      await store.dispatch('initialCommentsList')\r\n    })\r\n\r\n    const today = new Date();\r\n    const yyyy = today.getFullYear();\r\n    let mm = today.getMonth() + 1;\r\n    let dd = today.getDate();\r\n    if (dd < 10) dd = '0' + dd;\r\n    if (mm < 10) mm = '0' + mm;\r\n    const formattedToday = dd + '-' + mm + '-' + yyyy;\r\n\r\n    let starsCount = ref(0);\r\n    let inputComment = ref('');\r\n\r\n    let starSave = function (star) {\r\n      starsCount.value = star;\r\n    }\r\n\r\n    const saveData = async function (comment, main, mainInter, idx, oppositeInter) {\r\n      let bodyResult = comment\r\n\r\n      if(main === 'liked') {\r\n        bodyResult['userIdLikes'] = {\r\n          count: mainInter.count,\r\n          users: mainInter.users\r\n        }\r\n        bodyResult['liked'] = true\r\n        bodyResult['disliked'] = false\r\n\r\n        if (oppositeInter.users != undefined) {\r\n          bodyResult['userIdDislikes'] = {\r\n            count: oppositeInter.count,\r\n            users: oppositeInter.users\r\n          }\r\n        }\r\n      }\r\n      else if(main === 'disliked') {\r\n        bodyResult['userIdDislikes'] = {\r\n          count: mainInter.count,\r\n          users: mainInter.users\r\n        }\r\n        bodyResult['liked'] = false\r\n        bodyResult['disliked'] = true\r\n\r\n        if (oppositeInter.users != undefined) {\r\n          bodyResult['userIdLikes'] = {\r\n            count: oppositeInter.count,\r\n            users: oppositeInter.users\r\n          }\r\n        }\r\n      }\r\n      await fetch('https://proffesion-choose-default-rtdb.firebaseio.com/comments/' + commentsKeys.value[idx] + '.json', {\r\n        method: 'PUT',\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(bodyResult)\r\n      })\r\n    }\r\n\r\n    let putLikeDis = async function (comment, mainInter, oppositeInter, main, reverse, idx) {\r\n      let userId = parseInt(store.getters.getUserId)\r\n      if (store.getters.getAuth) {\r\n        if (mainInter.users?.indexOf(userId) == -1 && oppositeInter.users?.indexOf(userId) == -1) {\r\n          mainInter.count += 1;\r\n          mainInter.users.push(userId);\r\n          comment[main.replace(/'/g)] = true;\r\n\r\n          await saveData(comment, main, mainInter, idx, oppositeInter)\r\n        }\r\n        else if (mainInter.users == undefined) {\r\n          if(oppositeInter.users != undefined) {\r\n            oppositeInter.users.splice(oppositeInter.users.findIndex(id => id === userId), 1);\r\n            oppositeInter.count -= 1\r\n            comment[reverse.replace(/'/g)] = false;\r\n          }\r\n          mainInter.users = [parseInt(userId)]\r\n          mainInter.count += 1\r\n          comment[main.replace(/'/g)] = true;\r\n\r\n          await saveData(comment, main, mainInter, idx, oppositeInter)\r\n        }\r\n        else if (mainInter.users?.indexOf(userId) == -1 && oppositeInter.users?.indexOf(userId) != -1) {\r\n          mainInter.count += 1\r\n          mainInter.users.push(userId);\r\n          if (oppositeInter.users != undefined) {\r\n            oppositeInter.users.splice(oppositeInter.users.findIndex(id => id === userId), 1);\r\n            oppositeInter.count -= 1\r\n          }\r\n\r\n          comment[main.replace(/'/g)] = true;\r\n          comment[reverse.replace(/'/g)] = false;\r\n          await saveData(comment, main, mainInter, idx, oppositeInter)\r\n        }\r\n        else if (mainInter.users?.indexOf(userId) != -1 && (oppositeInter.users == undefined || oppositeInter.users?.indexOf(userId) == -1)) {\r\n          mainInter.users.splice(mainInter.users.findIndex(id => id === userId), 1)\r\n          mainInter.count -= 1\r\n          comment[main] = false;\r\n          await saveData(comment, main, mainInter, idx, oppositeInter)\r\n        }\r\n      }\r\n      else {\r\n        store.commit('toggleOpenedAuth');\r\n        document.body.style.overflow = \"hidden\";\r\n        document.documentElement.scrollTop = 0;\r\n      }\r\n    };\r\n\r\n    let leaveAComment = async function () {\r\n      if(store.getters.getAuth) {\r\n        if(inputComment.value !== '' && starsCount.value !== 0) {\r\n          let userName = store.getters.getUsers\r\n              .filter((el) => el.id === parseInt(store.getters.getUserId))\r\n              .map(map => map.username).toString();\r\n          const response = await fetch('https://proffesion-choose-default-rtdb.firebaseio.com/comments.json', {\r\n            method: 'POST',\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n              user: userName,\r\n              date: formattedToday,\r\n              stars: starsCount.value,\r\n              comment: inputComment.value,\r\n              usersIdLikes: {'count': 0, users: []},\r\n              usersIdDislikes: {'count': 0, users: []},\r\n              liked: false,\r\n              disliked: false,\r\n              openedInput: false,\r\n              inputValue: '',\r\n              answered: []\r\n            })\r\n          }).then(res => {\r\n            if (res.ok) {\r\n              console.log('Успешно')\r\n            }\r\n          })\r\n          await store.dispatch('initialCommentsList')\r\n          inputComment.value = ''\r\n        }\r\n        else {\r\n          alert('Пожалуйста, напишите комментарий и оцените тест по 5-и бальной шкале')\r\n        }\r\n      }\r\n      else {\r\n        store.commit('toggleOpenedAuth');\r\n        document.body.style.overflow = \"hidden\";\r\n        document.documentElement.scrollTop = 0;\r\n      }\r\n    }\r\n\r\n    let commentsArray = computed(() => Object.values(store.getters.getComments));\r\n    let commentsKeys = computed(() => Object.keys(store.getters.getComments));\r\n\r\n    return {\r\n      commentsArray,\r\n      putLikeDis,\r\n      starSave,\r\n      leaveAComment,\r\n      inputComment,\r\n      store\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.spin-wrapper{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 25vh;\r\n\r\n  .spinner{\r\n    position: absolute;\r\n    height: 60px;\r\n    width: 60px;\r\n    border: 3px solid transparent;\r\n    border-top-color: #A04668;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin: -30px;\r\n    border-radius: 50%;\r\n    animation: spin 2s linear infinite;\r\n\r\n  &:before, &:after{\r\n               content:'';\r\n               position: absolute;\r\n               border: 3px solid transparent;\r\n               border-radius: 50%;\r\n             }\r\n\r\n  &:before{\r\n     border-top-color: #254E70;\r\n     top: -12px;\r\n     left: -12px;\r\n     right: -12px;\r\n     bottom: -12px;\r\n     animation: spin 3s linear infinite;\r\n   }\r\n\r\n  &:after{\r\n     border-top-color: #FFFBFE;\r\n     top: 6px;\r\n     left: 6px;\r\n     right: 6px;\r\n     bottom: 6px;\r\n     animation: spin 4s linear infinite;\r\n   }\r\n  }\r\n  }\r\n\r\n  @keyframes spin{\r\n    0% {transform: rotate(0deg);}\r\n    100% {transform: rotate(360deg);}\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}