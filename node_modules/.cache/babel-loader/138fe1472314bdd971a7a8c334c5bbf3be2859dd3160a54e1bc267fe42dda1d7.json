{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"test\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"test__title\"\n}, \"Тест на профориентацию\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"test__questionCounter\"\n};\nconst _hoisted_4 = {\n  class: \"test__question\"\n};\nconst _hoisted_5 = {\n  class: \"test__question-name\"\n};\nconst _hoisted_6 = {\n  class: \"test__question-answers\"\n};\nconst _hoisted_7 = {\n  class: \"test__passed\"\n};\nconst _hoisted_8 = {\n  class: \"test__questionNums\"\n};\nconst _hoisted_9 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_comments = _resolveComponent(\"comments\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, \"Вопрос \" + _toDisplayString($setup.test[$setup.questionNum].id), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.test[$setup.questionNum].question), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n    class: \"test__question-answer\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.nextQuestion($setup.questionNum, $setup.test[$setup.questionNum].answer_1))\n  }, _toDisplayString($setup.test[$setup.questionNum].answer_1), 1 /* TEXT */), _createElementVNode(\"div\", {\n    class: \"test__question-answer\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.nextQuestion($setup.questionNum, $setup.test[$setup.questionNum].answer_2))\n  }, _toDisplayString($setup.test[$setup.questionNum].answer_2), 1 /* TEXT */)])]), _createCommentVNode(\" ./test__question \"), _createElementVNode(\"div\", _hoisted_7, \" Вы ответили на \" + _toDisplayString($setup.checkQuestionCompleted) + \" из \" + _toDisplayString($setup.test.length) + \" вопросов \", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.test.length, num => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: _normalizeClass([$setup.test[num - 1].isAnswered ? 'active' : '', \"test__questionNum\"]),\n      onClick: $event => $setup.questionNum = num - 1\n    }, _toDisplayString(num), 11 /* TEXT, CLASS, PROPS */, _hoisted_9);\n  }), 256 /* UNKEYED_FRAGMENT */))]), _createCommentVNode(\" ./test__questionNums \")]), _createCommentVNode(\" ./test \"), _createVNode(_component_comments)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$setup","test","questionNum","id","_hoisted_4","_hoisted_5","question","_hoisted_6","onClick","_cache","$event","nextQuestion","answer_1","answer_2","_createCommentVNode","_hoisted_7","checkQuestionCompleted","length","_hoisted_8","_createElementBlock","_Fragment","_renderList","num","_normalizeClass","isAnswered","_hoisted_9","_createVNode","_component_comments"],"sources":["E:\\Vue\\career_guidance\\src\\views\\Test.vue"],"sourcesContent":["<template>\r\n<div class=\"test\">\r\n  <h1 class=\"test__title\">Тест на профориентацию</h1>\r\n\r\n  <div class=\"test__questionCounter\">Вопрос {{ test[questionNum].id }}</div>\r\n\r\n  <div class=\"test__question\">\r\n    <div class=\"test__question-name\"> {{ test[questionNum].question }} </div>\r\n    <div class=\"test__question-answers\">\r\n      <div\r\n          class=\"test__question-answer\"\r\n          @click=\"nextQuestion(questionNum, test[questionNum].answer_1)\"\r\n      >\r\n        {{ test[questionNum].answer_1 }}\r\n      </div>\r\n      <div\r\n          class=\"test__question-answer\"\r\n          @click=\"nextQuestion(questionNum, test[questionNum].answer_2)\"\r\n      >\r\n        {{ test[questionNum].answer_2 }}\r\n      </div>\r\n    </div>\r\n  </div><!-- ./test__question -->\r\n  <div class=\"test__passed\">\r\n    Вы ответили на\r\n    {{ checkQuestionCompleted }}\r\n    из {{ test.length }} вопросов\r\n  </div>\r\n  <div class=\"test__questionNums\">\r\n    <div\r\n        :class=\"test[num-1].isAnswered ? 'active': ''\"\r\n        v-for=\"num in test.length\"\r\n        @click=\"questionNum = num-1\"\r\n        class=\"test__questionNum\">{{ num }}</div>\r\n  </div><!-- ./test__questionNums -->\r\n</div><!-- ./test -->\r\n<comments></comments>\r\n</template>\r\n\r\n<script>\r\nimport {computed, ref} from \"vue\";\r\nimport router from \"@/router\";\r\nimport Comments from \"@/components/Comments.vue\";\r\n\r\nexport default {\r\n  name: \"Test\",\r\n  components: { Comments },\r\n  setup() {\r\n    let questionNum = ref(0);\r\n    let test = ref([\r\n      {\r\n        id: 1,\r\n        question: 'Какую работу вы предпочитаете?',\r\n        answer_1: 'Помогать больным лядям',\r\n        answer_2: 'Составлять таблицы, схемы, программы вычислительных машин',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 2,\r\n        question: 'Второй вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 3,\r\n        question: 'Третий вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 4,\r\n        question: 'Четвертый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 5,\r\n        question: 'Пятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 6,\r\n        question: 'Шестой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 7,\r\n        question: 'Седьмой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 8,\r\n        question: 'Восьмой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 9,\r\n        question: 'Девятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 10,\r\n        question: 'Десятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 11,\r\n        question: 'Одиннадцатый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      }\r\n    ]);\r\n    let isNextAnswered = computed(() => test.value.slice(questionNum.value+1).findIndex(test => test.isAnswered === false));\r\n    let firstUnanswered = computed(() => test.value.findIndex(test => test.isAnswered === false));\r\n    let checkQuestionCompleted = computed(() => test.value.reduce((accumulator, currentValue) => accumulator + (currentValue.isAnswered ? 1 : 0), 0))\r\n    let nextQuestion = function (question, answer) {\r\n      console.log(questionNum.value)\r\n      console.log(test.value.slice(questionNum.value))\r\n      if(checkQuestionCompleted.value + 1 !== test.value.length) {\r\n        this.test[question].isAnswered = true;\r\n        this.test[question].chosenAnswer = answer;\r\n\r\n        if (firstUnanswered.value > -1 && isNextAnswered) {\r\n          questionNum.value = firstUnanswered.value;\r\n        }\r\n        else {\r\n          questionNum.value++;\r\n        }\r\n      }\r\n      else {\r\n        this.test[question].isAnswered = true\r\n        setTimeout(() => { router.push('/result'); }, 250);\r\n      }\r\n    }\r\n    return {\r\n      questionNum,\r\n      test,\r\n      nextQuestion,\r\n      checkQuestionCompleted\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":";;EACKA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAAmD;EAA/CD,KAAK,EAAC;AAAa,GAAC,wBAAsB;;EAEzCA,KAAK,EAAC;AAAuB;;EAE7BA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAqB;;EAC3BA,KAAK,EAAC;AAAwB;;EAehCA,KAAK,EAAC;AAAc;;EAKpBA,KAAK,EAAC;AAAoB;;;;6DA3BjCC,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,UAAmD,EAEnDF,mBAAA,CAA0E,OAA1EG,UAA0E,EAAvC,SAAO,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEC,EAAE,kBAEjER,mBAAA,CAgBM,OAhBNS,UAgBM,GAfJT,mBAAA,CAAyE,OAAzEU,UAAyE,EAAAN,gBAAA,CAApCC,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEI,QAAQ,kBAC/DX,mBAAA,CAaM,OAbNY,UAaM,GAZJZ,mBAAA,CAKM;IAJFD,KAAK,EAAC,uBAAuB;IAC5Bc,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEV,MAAA,CAAAW,YAAY,CAACX,MAAA,CAAAE,WAAW,EAAEF,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEU,QAAQ;sBAE3DZ,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEU,QAAQ,kBAE/BjB,mBAAA,CAKM;IAJFD,KAAK,EAAC,uBAAuB;IAC5Bc,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEV,MAAA,CAAAW,YAAY,CAACX,MAAA,CAAAE,WAAW,EAAEF,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEW,QAAQ;sBAE3Db,MAAA,CAAAC,IAAI,CAACD,MAAA,CAAAE,WAAW,EAAEW,QAAQ,iB,KAG7BC,mBAAA,sBAAyB,EAC/BnB,mBAAA,CAIM,OAJNoB,UAIM,EAJoB,kBAExB,GAAAhB,gBAAA,CAAGC,MAAA,CAAAgB,sBAAsB,IAAG,MACzB,GAAAjB,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACgB,MAAM,IAAG,YACtB,iBACAtB,mBAAA,CAMM,OANNuB,UAMM,I,kBALJC,mBAAA,CAI6CC,SAAA,QAAAC,WAAA,CAF3BrB,MAAA,CAAAC,IAAI,CAACgB,MAAM,EAAlBK,GAAG;yBAFdH,mBAAA,CAI6C;MAHxCzB,KAAK,EAAA6B,eAAA,EAAEvB,MAAA,CAAAC,IAAI,CAACqB,GAAG,MAAIE,UAAU,kBAGxB,mBAAmB;MADxBhB,OAAK,EAAAE,MAAA,IAAEV,MAAA,CAAAE,WAAW,GAAGoB,GAAG;wBACIA,GAAG,gCAAAG,UAAA;sCAChCX,mBAAA,0BAA6B,C,GAC/BA,mBAAA,YAAe,EACrBY,YAAA,CAAqBC,mBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}