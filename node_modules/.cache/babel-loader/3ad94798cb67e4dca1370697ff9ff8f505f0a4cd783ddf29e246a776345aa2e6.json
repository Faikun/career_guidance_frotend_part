{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useStore } from \"vuex\";\nimport { computed, reactive, ref } from \"vue\";\nexport default {\n  name: \"Admin\",\n  setup() {\n    let store = useStore();\n    let users = computed(() => store.getters.getUsers);\n    let inputDisabled = reactive([]);\n    for (let i = 0; i < users.value.length; i++) {\n      inputDisabled.push(false);\n    }\n    let newUser = reactive({\n      name: '',\n      mail: '',\n      password: '',\n      status: 'user'\n    });\n    const userName = ref(''),\n      userMail = ref(''),\n      userPassword = ref(''),\n      userStatus = ref('');\n    let saveData = function (user, index) {\n      let id = users.value.indexOf(user);\n      store.commit('setUsers', {\n        id: id,\n        name: userName.value[index].value,\n        mail: userMail.value[index].value,\n        password: userPassword.value[index].value,\n        status: userStatus.value[index].value\n      });\n      inputDisabled[index] = false;\n    };\n    let remove = function (user) {\n      let id = users.value.indexOf(user);\n      store.commit('removeUser', id);\n      console.log(users);\n    };\n    let create = function () {\n      console.log(newUser.name);\n      console.log(users);\n      users.value.push({\n        userId: users.value.length + 1,\n        name: newUser.name,\n        mail: newUser.mail,\n        password: newUser.password,\n        status: newUser.status,\n        history: []\n      });\n    };\n    return {\n      users,\n      inputDisabled,\n      saveData,\n      remove,\n      create,\n      userName,\n      userMail,\n      userPassword,\n      userStatus,\n      newUser\n    };\n  }\n};","map":{"version":3,"names":["useStore","computed","reactive","ref","name","setup","store","users","getters","getUsers","inputDisabled","i","value","length","push","newUser","mail","password","status","userName","userMail","userPassword","userStatus","saveData","user","index","id","indexOf","commit","remove","console","log","create","userId","history"],"sources":["E:\\Vue\\career_guidance\\src\\views\\Admin.vue"],"sourcesContent":["<template>\r\n<div class=\"admin\">\r\n  <h1 class=\"admin__title\">Админская часть</h1>\r\n\r\n  <table class=\"table\">\r\n    <tr>\r\n      <th>Имя</th>\r\n      <th>Почта</th>\r\n      <th>Пароль</th>\r\n      <th>Статус</th>\r\n      <th>Изменить</th>\r\n      <th>Удалить</th>\r\n    </tr>\r\n    <tr v-for=\"(user, index) in users\" :key=\"index\">\r\n      <td>\r\n        <input\r\n            :disabled=\"!inputDisabled[index]\"\r\n            :value=\"user.name\"\r\n            class=\"admin__table-input\"\r\n            :class=\"inputDisabled[index] ? 'active' : ''\"\r\n            ref=\"userName\"\r\n        >\r\n      </td>\r\n      <td>\r\n        <input\r\n            :disabled=\"!inputDisabled[index]\"\r\n            :value=\"user.mail\"\r\n            class=\"admin__table-input\"\r\n            :class=\"inputDisabled[index] ? 'active' : ''\"\r\n            ref=\"userMail\"\r\n        >\r\n      </td>\r\n      <td>\r\n        <input\r\n            :disabled=\"!inputDisabled[index]\"\r\n            :value=\"user.password\"\r\n            class=\"admin__table-input\"\r\n            :class=\"inputDisabled[index] ? 'active' : ''\"\r\n            ref=\"userPassword\"\r\n        >\r\n      </td>\r\n      <td>\r\n        <input\r\n            :disabled=\"!inputDisabled[index]\"\r\n            :value=\"user.status\"\r\n            class=\"admin__table-input\"\r\n            :class=\"inputDisabled[index] ? 'active' : ''\"\r\n            ref=\"userStatus\"\r\n        >\r\n      </td>\r\n      <td>\r\n        <img\r\n            v-if=\"!inputDisabled[index]\"\r\n            class=\"admin__table-edit\"\r\n            src=\"@/images/png/edit.png\"\r\n            alt=\"edit\"\r\n            @click=\"inputDisabled[index] = !inputDisabled[index]\"\r\n        >\r\n        <img\r\n            v-else\r\n            class=\"admin__table-edit\"\r\n            src=\"@/images/png/save.png\"\r\n            alt=\"edit\"\r\n            @click=\"saveData(user, index)\">\r\n      </td>\r\n      <td>\r\n        <img\r\n            v-if=\"user.status === 'user'\"\r\n            class=\"admin__table-edit\"\r\n            src=\"@/images/png/remove.png\"\r\n            alt=\"edit\"\r\n            @click=\"remove(user)\"\r\n        >\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>\r\n        <input class=\"admin__table-input\" placeholder=\"Имя\" type=\"text\" v-model=\"newUser.name\">\r\n      </td>\r\n      <td>\r\n        <input class=\"admin__table-input\" placeholder=\"Почта\" type=\"text\" v-model=\"newUser.mail\">\r\n      </td>\r\n      <td>\r\n        <input class=\"admin__table-input\" placeholder=\"Пароль\" type=\"text\" v-model=\"newUser.password\">\r\n      </td>\r\n      <td>\r\n        <select v-model=\"newUser.status\" class=\"admin__table-select\">\r\n          <option value=\"user\">user</option>\r\n          <option value=\"admin\">admin</option>\r\n        </select>\r\n      </td>\r\n      <td colspan=\"3\">\r\n        <button type=\"button\" class=\"btn green small\" @click=\"create\">Создать</button>\r\n      </td>\r\n    </tr>\r\n  </table><!-- ./admin__wrapper -->\r\n</div><!-- ./admin -->\r\n</template>\r\n\r\n<script>\r\nimport {useStore} from \"vuex\";\r\nimport {computed, reactive, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: \"Admin\",\r\n  setup() {\r\n    let store = useStore();\r\n    let users = computed(() => store.getters.getUsers);\r\n\r\n    let inputDisabled = reactive([]);\r\n    for (let i = 0; i < users.value.length; i++) {\r\n      inputDisabled.push(false)\r\n    }\r\n\r\n    let newUser = reactive({\r\n      name: '',\r\n      mail: '',\r\n      password: '',\r\n      status: 'user'\r\n    })\r\n\r\n    const userName = ref(''),\r\n        userMail = ref(''),\r\n        userPassword = ref(''),\r\n        userStatus = ref('');\r\n\r\n    let saveData = function (user, index) {\r\n      let id = users.value.indexOf(user);\r\n      store.commit('setUsers', {\r\n        id: id,\r\n        name: userName.value[index].value,\r\n        mail: userMail.value[index].value,\r\n        password: userPassword.value[index].value,\r\n        status: userStatus.value[index].value\r\n      });\r\n      inputDisabled[index] = false;\r\n    }\r\n\r\n    let remove = function (user) {\r\n      let id = users.value.indexOf(user);\r\n      store.commit('removeUser', id);\r\n      console.log(users);\r\n    }\r\n\r\n    let create = function () {\r\n      console.log(newUser.name);\r\n      console.log(users)\r\n      users.value.push({\r\n        userId: users.value.length + 1,\r\n        name: newUser.name,\r\n        mail: newUser.mail,\r\n        password: newUser.password,\r\n        status: newUser.status,\r\n        history: []\r\n      })\r\n    }\r\n\r\n    return {\r\n      users,\r\n      inputDisabled,\r\n      saveData, remove, create,\r\n      userName, userMail, userPassword, userStatus,\r\n      newUser\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAoGA,SAAQA,QAAQ,QAAO,MAAM;AAC7B,SAAQC,QAAQ,EAAEC,QAAQ,EAAEC,GAAG,QAAO,KAAK;AAE3C,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAKA,CAAA,EAAG;IACN,IAAIC,KAAI,GAAIN,QAAQ,EAAE;IACtB,IAAIO,KAAI,GAAIN,QAAQ,CAAC,MAAMK,KAAK,CAACE,OAAO,CAACC,QAAQ,CAAC;IAElD,IAAIC,aAAY,GAAIR,QAAQ,CAAC,EAAE,CAAC;IAChC,KAAK,IAAIS,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIJ,KAAK,CAACK,KAAK,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC3CD,aAAa,CAACI,IAAI,CAAC,KAAK;IAC1B;IAEA,IAAIC,OAAM,GAAIb,QAAQ,CAAC;MACrBE,IAAI,EAAE,EAAE;MACRY,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE;IACV,CAAC;IAED,MAAMC,QAAO,GAAIhB,GAAG,CAAC,EAAE,CAAC;MACpBiB,QAAO,GAAIjB,GAAG,CAAC,EAAE,CAAC;MAClBkB,YAAW,GAAIlB,GAAG,CAAC,EAAE,CAAC;MACtBmB,UAAS,GAAInB,GAAG,CAAC,EAAE,CAAC;IAExB,IAAIoB,QAAO,GAAI,SAAAA,CAAUC,IAAI,EAAEC,KAAK,EAAE;MACpC,IAAIC,EAAC,GAAInB,KAAK,CAACK,KAAK,CAACe,OAAO,CAACH,IAAI,CAAC;MAClClB,KAAK,CAACsB,MAAM,CAAC,UAAU,EAAE;QACvBF,EAAE,EAAEA,EAAE;QACNtB,IAAI,EAAEe,QAAQ,CAACP,KAAK,CAACa,KAAK,CAAC,CAACb,KAAK;QACjCI,IAAI,EAAEI,QAAQ,CAACR,KAAK,CAACa,KAAK,CAAC,CAACb,KAAK;QACjCK,QAAQ,EAAEI,YAAY,CAACT,KAAK,CAACa,KAAK,CAAC,CAACb,KAAK;QACzCM,MAAM,EAAEI,UAAU,CAACV,KAAK,CAACa,KAAK,CAAC,CAACb;MAClC,CAAC,CAAC;MACFF,aAAa,CAACe,KAAK,IAAI,KAAK;IAC9B;IAEA,IAAII,MAAK,GAAI,SAAAA,CAAUL,IAAI,EAAE;MAC3B,IAAIE,EAAC,GAAInB,KAAK,CAACK,KAAK,CAACe,OAAO,CAACH,IAAI,CAAC;MAClClB,KAAK,CAACsB,MAAM,CAAC,YAAY,EAAEF,EAAE,CAAC;MAC9BI,OAAO,CAACC,GAAG,CAACxB,KAAK,CAAC;IACpB;IAEA,IAAIyB,MAAK,GAAI,SAAAA,CAAA,EAAY;MACvBF,OAAO,CAACC,GAAG,CAAChB,OAAO,CAACX,IAAI,CAAC;MACzB0B,OAAO,CAACC,GAAG,CAACxB,KAAK;MACjBA,KAAK,CAACK,KAAK,CAACE,IAAI,CAAC;QACfmB,MAAM,EAAE1B,KAAK,CAACK,KAAK,CAACC,MAAK,GAAI,CAAC;QAC9BT,IAAI,EAAEW,OAAO,CAACX,IAAI;QAClBY,IAAI,EAAED,OAAO,CAACC,IAAI;QAClBC,QAAQ,EAAEF,OAAO,CAACE,QAAQ;QAC1BC,MAAM,EAAEH,OAAO,CAACG,MAAM;QACtBgB,OAAO,EAAE;MACX,CAAC;IACH;IAEA,OAAO;MACL3B,KAAK;MACLG,aAAa;MACba,QAAQ;MAAEM,MAAM;MAAEG,MAAM;MACxBb,QAAQ;MAAEC,QAAQ;MAAEC,YAAY;MAAEC,UAAU;MAC5CP;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}