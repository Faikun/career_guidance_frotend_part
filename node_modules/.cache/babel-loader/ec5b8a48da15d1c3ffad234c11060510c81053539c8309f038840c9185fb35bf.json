{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, ref } from \"vue\";\nimport router from \"@/router\";\nimport Comments from \"@/components/Comments.vue\";\nexport default {\n  name: \"Test\",\n  components: {\n    Comments\n  },\n  setup() {\n    let questionNum = ref(0);\n    let test = ref([{\n      id: 1,\n      question: 'Какую работу вы предпочитаете?',\n      answer_1: 'Помогать больным лядям',\n      answer_2: 'Составлять таблицы, схемы, программы вычислительных машин',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 2,\n      question: 'Второй вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 3,\n      question: 'Третий вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 4,\n      question: 'Четвертый вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 5,\n      question: 'Пятый вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 6,\n      question: 'Шестой вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 7,\n      question: 'Седьмой вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 8,\n      question: 'Восьмой вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 9,\n      question: 'Девятый вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 10,\n      question: 'Десятый вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }, {\n      id: 11,\n      question: 'Одиннадцатый вопрос',\n      answer_1: 'Какой-то ответ',\n      answer_2: 'Какой-то ответ номер 2',\n      chosenAnswer: null,\n      isAnswered: false\n    }]);\n    let isNextAnswered = computed(() => test.value.slice(questionNum.value).findIndex(test => test.isAnswered === false));\n    let firstUnanswered = computed(() => test.value.findIndex(test => test.isAnswered === false));\n    let checkQuestionCompleted = computed(() => test.value.reduce((accumulator, currentValue) => accumulator + (currentValue.isAnswered ? 1 : 0), 0));\n    let nextQuestion = function (question, answer) {\n      console.log(questionNum.value);\n      console.log(test.value.slice(questionNum.value));\n      if (checkQuestionCompleted.value + 1 !== test.value.length) {\n        this.test[question].isAnswered = true;\n        this.test[question].chosenAnswer = answer;\n        if (firstUnanswered.value > -1 && isNextAnswered) {\n          questionNum.value = firstUnanswered.value;\n        } else {\n          questionNum.value++;\n        }\n      } else {\n        this.test[question].isAnswered = true;\n        setTimeout(() => {\n          router.push('/result');\n        }, 250);\n      }\n    };\n    return {\n      questionNum,\n      test,\n      nextQuestion,\n      checkQuestionCompleted\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","router","Comments","name","components","setup","questionNum","test","id","question","answer_1","answer_2","chosenAnswer","isAnswered","isNextAnswered","value","slice","findIndex","firstUnanswered","checkQuestionCompleted","reduce","accumulator","currentValue","nextQuestion","answer","console","log","length","setTimeout","push"],"sources":["E:\\Vue\\career_guidance\\src\\views\\Test.vue"],"sourcesContent":["<template>\r\n<div class=\"test\">\r\n  <h1 class=\"test__title\">Тест на профориентацию</h1>\r\n\r\n  <div class=\"test__questionCounter\">Вопрос {{ test[questionNum].id }}</div>\r\n\r\n  <div class=\"test__question\">\r\n    <div class=\"test__question-name\"> {{ test[questionNum].question }} </div>\r\n    <div class=\"test__question-answers\">\r\n      <div\r\n          class=\"test__question-answer\"\r\n          @click=\"nextQuestion(questionNum, test[questionNum].answer_1)\"\r\n      >\r\n        {{ test[questionNum].answer_1 }}\r\n      </div>\r\n      <div\r\n          class=\"test__question-answer\"\r\n          @click=\"nextQuestion(questionNum, test[questionNum].answer_2)\"\r\n      >\r\n        {{ test[questionNum].answer_2 }}\r\n      </div>\r\n    </div>\r\n  </div><!-- ./test__question -->\r\n  <div class=\"test__passed\">\r\n    Вы ответили на\r\n    {{ checkQuestionCompleted }}\r\n    из {{ test.length }} вопросов\r\n  </div>\r\n  <div class=\"test__questionNums\">\r\n    <div\r\n        :class=\"test[num-1].isAnswered ? 'active': ''\"\r\n        v-for=\"num in test.length\"\r\n        @click=\"questionNum = num-1\"\r\n        class=\"test__questionNum\">{{ num }}</div>\r\n  </div><!-- ./test__questionNums -->\r\n</div><!-- ./test -->\r\n<comments></comments>\r\n</template>\r\n\r\n<script>\r\nimport {computed, ref} from \"vue\";\r\nimport router from \"@/router\";\r\nimport Comments from \"@/components/Comments.vue\";\r\n\r\nexport default {\r\n  name: \"Test\",\r\n  components: { Comments },\r\n  setup() {\r\n    let questionNum = ref(0);\r\n    let test = ref([\r\n      {\r\n        id: 1,\r\n        question: 'Какую работу вы предпочитаете?',\r\n        answer_1: 'Помогать больным лядям',\r\n        answer_2: 'Составлять таблицы, схемы, программы вычислительных машин',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 2,\r\n        question: 'Второй вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 3,\r\n        question: 'Третий вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 4,\r\n        question: 'Четвертый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 5,\r\n        question: 'Пятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 6,\r\n        question: 'Шестой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 7,\r\n        question: 'Седьмой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 8,\r\n        question: 'Восьмой вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 9,\r\n        question: 'Девятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 10,\r\n        question: 'Десятый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      },\r\n      {\r\n        id: 11,\r\n        question: 'Одиннадцатый вопрос',\r\n        answer_1: 'Какой-то ответ',\r\n        answer_2: 'Какой-то ответ номер 2',\r\n        chosenAnswer: null,\r\n        isAnswered: false\r\n      }\r\n    ]);\r\n    let isNextAnswered = computed(() => test.value.slice(questionNum.value).findIndex(test => test.isAnswered === false));\r\n    let firstUnanswered = computed(() => test.value.findIndex(test => test.isAnswered === false));\r\n    let checkQuestionCompleted = computed(() => test.value.reduce((accumulator, currentValue) => accumulator + (currentValue.isAnswered ? 1 : 0), 0))\r\n    let nextQuestion = function (question, answer) {\r\n      console.log(questionNum.value)\r\n      console.log(test.value.slice(questionNum.value))\r\n      if(checkQuestionCompleted.value + 1 !== test.value.length) {\r\n        this.test[question].isAnswered = true;\r\n        this.test[question].chosenAnswer = answer;\r\n\r\n        if (firstUnanswered.value > -1 && isNextAnswered) {\r\n          questionNum.value = firstUnanswered.value;\r\n        }\r\n        else {\r\n          questionNum.value++;\r\n        }\r\n      }\r\n      else {\r\n        this.test[question].isAnswered = true\r\n        setTimeout(() => { router.push('/result'); }, 250);\r\n      }\r\n    }\r\n    return {\r\n      questionNum,\r\n      test,\r\n      nextQuestion,\r\n      checkQuestionCompleted\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}