{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"History\",\n  setup() {\n    let store = useStore();\n    let router = useRouter();\n    let users = store.getters.getUsers;\n    let userId = store.getters.getUserId;\n    let authedUser = users.filter(el => el.id === parseInt(userId));\n    const professionsArray = store.getters.getProfessionsArray;\n    const result = JSON.parse(localStorage.getItem('test'));\n    if (result) {\n      users.value.filter(el => el.id.toString() === store.getters.getUserId)[0].history = JSON.stringify(result);\n      finalRes['name'] = result.name;\n      finalRes['result'] = result.result;\n    }\n    const goToProf = function (name) {\n      const prof = professionsArray.filter(el => el.name === name)[0];\n      router.push({\n        name: 'Profession',\n        params: {\n          name: prof.category,\n          prof: prof.name\n        }\n      });\n    };\n    return {\n      history: authedUser[0].history,\n      goToProf\n    };\n  }\n};","map":{"version":3,"names":["useStore","useRouter","name","setup","store","router","users","getters","getUsers","userId","getUserId","authedUser","filter","el","id","parseInt","professionsArray","getProfessionsArray","result","JSON","parse","localStorage","getItem","value","toString","history","stringify","finalRes","goToProf","prof","push","params","category"],"sources":["E:\\Vue\\career_guidance\\src\\views\\History.vue"],"sourcesContent":["<template>\r\n<div class=\"history\">\r\n  <h1 class=\"history__title\">История</h1>\r\n  <div class=\"history__wrapper\">\r\n    <div v-if=\"history.length === 0\" class=\"history__empty\">\r\n      <span class=\"history__empty-text mb20\">К сожалению, вы пока не прошли ни одно из предложенных тестов.</span>\r\n      <div class=\"history__empty-wrapper\">\r\n        <span class=\"history__empty-text\">Желате пройти тестирование?</span>\r\n        <router-link class=\"history__empty-link\" to=\"/tests\">Список тестов</router-link>\r\n      </div>\r\n    </div><!-- ./history__empty -->\r\n    <div v-else>\r\n      <h2 class=\"history__subtitle\">Тест на профориентацию</h2>\r\n      <ul class=\"result__show\">\r\n        <li v-for=\"item in history\" class=\"result__show-item\" @click=\"goToProf(item[0])\">\r\n          <span>{{item[0]}}</span>\r\n          <span>{{item[1]}}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div><!-- ./history__wrapper -->\r\n</div><!-- ./history -->\r\n</template>\r\n\r\n<script>\r\nimport {useStore} from \"vuex\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"History\",\r\n  setup() {\r\n    let store = useStore();\r\n    let router = useRouter();\r\n    let users = store.getters.getUsers;\r\n    let userId = store.getters.getUserId;\r\n    let authedUser = users.filter((el) => el.id === parseInt(userId));\r\n    const professionsArray = store.getters.getProfessionsArray;\r\n\r\n    const result = JSON.parse(localStorage.getItem('test'));\r\n    if (result) {\r\n      users.value.filter((el) => el.id.toString() === store.getters.getUserId)[0].history = JSON.stringify(result);\r\n      finalRes['name'] = result.name\r\n      finalRes['result'] = result.result\r\n    }\r\n\r\n\r\n    const goToProf = function (name) {\r\n      const prof = professionsArray.filter((el) => el.name === name)[0];\r\n      router.push({ name: 'Profession', params: { name: prof.category, prof: prof.name }})\r\n\r\n    }\r\n\r\n    return {\r\n      history: authedUser[0].history,\r\n      goToProf\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n"],"mappings":";AAyBA,SAAQA,QAAQ,QAAO,MAAM;AAC7B,SAAQC,SAAS,QAAO,YAAY;AAEpC,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,KAAKA,CAAA,EAAG;IACN,IAAIC,KAAI,GAAIJ,QAAQ,EAAE;IACtB,IAAIK,MAAK,GAAIJ,SAAS,EAAE;IACxB,IAAIK,KAAI,GAAIF,KAAK,CAACG,OAAO,CAACC,QAAQ;IAClC,IAAIC,MAAK,GAAIL,KAAK,CAACG,OAAO,CAACG,SAAS;IACpC,IAAIC,UAAS,GAAIL,KAAK,CAACM,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAC,KAAMC,QAAQ,CAACN,MAAM,CAAC,CAAC;IACjE,MAAMO,gBAAe,GAAIZ,KAAK,CAACG,OAAO,CAACU,mBAAmB;IAE1D,MAAMC,MAAK,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACvD,IAAIJ,MAAM,EAAE;MACVZ,KAAK,CAACiB,KAAK,CAACX,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,CAACU,QAAQ,EAAC,KAAMpB,KAAK,CAACG,OAAO,CAACG,SAAS,CAAC,CAAC,CAAC,CAAC,CAACe,OAAM,GAAIN,IAAI,CAACO,SAAS,CAACR,MAAM,CAAC;MAC5GS,QAAQ,CAAC,MAAM,IAAIT,MAAM,CAAChB,IAAG;MAC7ByB,QAAQ,CAAC,QAAQ,IAAIT,MAAM,CAACA,MAAK;IACnC;IAGA,MAAMU,QAAO,GAAI,SAAAA,CAAU1B,IAAI,EAAE;MAC/B,MAAM2B,IAAG,GAAIb,gBAAgB,CAACJ,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACX,IAAG,KAAMA,IAAI,CAAC,CAAC,CAAC,CAAC;MACjEG,MAAM,CAACyB,IAAI,CAAC;QAAE5B,IAAI,EAAE,YAAY;QAAE6B,MAAM,EAAE;UAAE7B,IAAI,EAAE2B,IAAI,CAACG,QAAQ;UAAEH,IAAI,EAAEA,IAAI,CAAC3B;QAAK;MAAC,CAAC;IAErF;IAEA,OAAO;MACLuB,OAAO,EAAEd,UAAU,CAAC,CAAC,CAAC,CAACc,OAAO;MAC9BG;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}