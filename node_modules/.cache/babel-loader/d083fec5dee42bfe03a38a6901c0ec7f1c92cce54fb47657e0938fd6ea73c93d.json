{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Comments from \"@/components/Comments.vue\";\nimport { useStore } from \"vuex\";\nimport { computed, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"Result\",\n  components: {\n    Comments\n  },\n  setup() {\n    let store = useStore();\n    let router = useRouter();\n    let auth = function () {\n      store.commit('toggleOpenedAuth');\n      document.body.style.overflow = \"hidden\";\n    };\n    let finalRes = {\n      name: '',\n      result: []\n    };\n    const isAuth = computed(() => store.getters.getAuth);\n    const users = computed(() => store.getters.getUsers);\n    if (isAuth.value) {\n      const result = JSON.parse(localStorage.getItem('test'));\n      finalRes['name'] = result.name;\n      finalRes['result'] = result.result;\n    }\n    watch(isAuth, (newValue, oldValue) => {\n      if (newValue) {\n        const result = JSON.parse(localStorage.getItem('test'));\n        users.value.filter(el => el.id.toString() === store.getters.getUserId)[0].history = JSON.stringify(result);\n        finalRes['name'] = result.name;\n        finalRes['result'] = result.result;\n      }\n    });\n    const professionsArray = store.getters.getProfessionsArray;\n    const goToProf = function (name) {\n      const prof = professionsArray.filter(el => el.name.toLowerCase() === name.toLowerCase())[0];\n      router.push({\n        name: 'Profession',\n        params: {\n          name: prof.category,\n          prof: prof.name\n        }\n      });\n    };\n    return {\n      store,\n      auth,\n      finalRes,\n      goToProf\n    };\n  }\n};","map":{"version":3,"names":["Comments","useStore","computed","watch","useRouter","name","components","setup","store","router","auth","commit","document","body","style","overflow","finalRes","result","isAuth","getters","getAuth","users","getUsers","value","JSON","parse","localStorage","getItem","newValue","oldValue","filter","el","id","toString","getUserId","history","stringify","professionsArray","getProfessionsArray","goToProf","prof","toLowerCase","push","params","category"],"sources":["E:\\Vue\\career_guidance\\src\\views\\Result.vue"],"sourcesContent":["<template>\r\n<div class=\"result\">\r\n  <h1 class=\"result__title\">Результаты</h1>\r\n  <h3 class=\"test__completed\">Поздравляем! Вы успешно сдали тест - {{ finalRes.name }}</h3>\r\n  <h4 class=\"test__completed\">Профессии, которые вам подходят: </h4>\r\n\r\n  <div class=\"wrap\" v-if=\"store.getters.getAuth\">\r\n    <div class=\"card\" v-for=\"res in finalRes.result\" :key=\"res\" @click=\"goToProf(res)\">\r\n      <div class=\"front\"><a href=\"#\">{{ res }}</a></div>\r\n      <div class=\"back\"><span>Back</span></div>\r\n    </div>\r\n  </div>\r\n\r\n  <ul v-if=\"store.getters.getAuth\" class=\"result__show\">\r\n    <li v-for=\"res in finalRes.result\" :key=\"res\" class=\"result__show-item\" @click=\"goToProf(res)\">\r\n      <a href=\"#\">{{ res }}</a>\r\n    </li>\r\n  </ul><!-- ./result__show -->\r\n  <div v-else class=\"result__auth\">\r\n    <div class=\"result__statement\">Чтобы увидеть результат, пожалуйста, пройдите регистрацию или войдите в свою учётную запись</div>\r\n    <div class=\"result__auth-links\">\r\n      <a href=\"#\" @click=\"auth\">Войти в аккаунт</a>\r\n      <a href=\"#\" @click=\"auth\">Зарегестрироваться</a>\r\n    </div>\r\n  </div><!-- ./result__auth -->\r\n  <comments></comments>\r\n</div><!-- ./result -->\r\n</template>\r\n\r\n<script>\r\nimport Comments from \"@/components/Comments.vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {computed, watch} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"Result\",\r\n  components: {Comments},\r\n  setup() {\r\n    let store = useStore();\r\n    let router = useRouter();\r\n    let auth = function () {\r\n      store.commit('toggleOpenedAuth');\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    let finalRes = {\r\n      name: '',\r\n      result: []\r\n    };\r\n\r\n    const isAuth = computed(() => store.getters.getAuth)\r\n    const users = computed(() => store.getters.getUsers)\r\n\r\n    if(isAuth.value) {\r\n      const result = JSON.parse(localStorage.getItem('test'))\r\n      finalRes['name'] = result.name\r\n      finalRes['result'] = result.result\r\n    }\r\n\r\n    watch(isAuth, (newValue, oldValue) => {\r\n      if(newValue) {\r\n        const result = JSON.parse(localStorage.getItem('test'));\r\n        users.value.filter((el) => el.id.toString() === store.getters.getUserId)[0].history = JSON.stringify(result);\r\n        finalRes['name'] = result.name\r\n        finalRes['result'] = result.result\r\n      }\r\n    })\r\n\r\n    const professionsArray = store.getters.getProfessionsArray;\r\n\r\n    const goToProf = function (name) {\r\n      const prof = professionsArray.filter((el) => el.name.toLowerCase() === name.toLowerCase())[0];\r\n      router.push({ name: 'Profession', params: { name: prof.category, prof: prof.name }})\r\n    }\r\n\r\n    return {\r\n      store,\r\n      auth,\r\n      finalRes,\r\n      goToProf\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .wrap {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n  }\r\n  .card {\r\n    width: 300px;\r\n    height: 300px;\r\n    position: relative;\r\n    perspective: 1000px;\r\n  }\r\n  .front, .back {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: 1s;\r\n    backface-visibility: hidden;\r\n    border-radius: 10px;\r\n    box-shadow: 0 0 10px rgba(0,0,0, .5);\r\n  }\r\n  .front {\r\n    background-color: #fff;\r\n  }\r\n  .back {\r\n    background-color: #BDBDBD;\r\n    transform: rotateY(180deg);\r\n  }\r\n  .card:hover .front {transform: rotateY(180deg);}\r\n  .card:hover .back {transform: rotateY(360deg);}\r\n</style>\r\n"],"mappings":";AA8BA,OAAOA,QAAO,MAAO,2BAA2B;AAChD,SAAQC,QAAQ,QAAO,MAAM;AAC7B,SAAQC,QAAQ,EAAEC,KAAK,QAAO,KAAK;AACnC,SAAQC,SAAS,QAAO,YAAY;AAEpC,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IAACN;EAAQ,CAAC;EACtBO,KAAKA,CAAA,EAAG;IACN,IAAIC,KAAI,GAAIP,QAAQ,EAAE;IACtB,IAAIQ,MAAK,GAAIL,SAAS,EAAE;IACxB,IAAIM,IAAG,GAAI,SAAAA,CAAA,EAAY;MACrBF,KAAK,CAACG,MAAM,CAAC,kBAAkB,CAAC;MAChCC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,QAAQ;IACzC;IACA,IAAIC,QAAO,GAAI;MACbX,IAAI,EAAE,EAAE;MACRY,MAAM,EAAE;IACV,CAAC;IAED,MAAMC,MAAK,GAAIhB,QAAQ,CAAC,MAAMM,KAAK,CAACW,OAAO,CAACC,OAAO;IACnD,MAAMC,KAAI,GAAInB,QAAQ,CAAC,MAAMM,KAAK,CAACW,OAAO,CAACG,QAAQ;IAEnD,IAAGJ,MAAM,CAACK,KAAK,EAAE;MACf,MAAMN,MAAK,GAAIO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACtDX,QAAQ,CAAC,MAAM,IAAIC,MAAM,CAACZ,IAAG;MAC7BW,QAAQ,CAAC,QAAQ,IAAIC,MAAM,CAACA,MAAK;IACnC;IAEAd,KAAK,CAACe,MAAM,EAAE,CAACU,QAAQ,EAAEC,QAAQ,KAAK;MACpC,IAAGD,QAAQ,EAAE;QACX,MAAMX,MAAK,GAAIO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;QACvDN,KAAK,CAACE,KAAK,CAACO,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,CAACC,QAAQ,EAAC,KAAMzB,KAAK,CAACW,OAAO,CAACe,SAAS,CAAC,CAAC,CAAC,CAAC,CAACC,OAAM,GAAIX,IAAI,CAACY,SAAS,CAACnB,MAAM,CAAC;QAC5GD,QAAQ,CAAC,MAAM,IAAIC,MAAM,CAACZ,IAAG;QAC7BW,QAAQ,CAAC,QAAQ,IAAIC,MAAM,CAACA,MAAK;MACnC;IACF,CAAC;IAED,MAAMoB,gBAAe,GAAI7B,KAAK,CAACW,OAAO,CAACmB,mBAAmB;IAE1D,MAAMC,QAAO,GAAI,SAAAA,CAAUlC,IAAI,EAAE;MAC/B,MAAMmC,IAAG,GAAIH,gBAAgB,CAACP,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAAC1B,IAAI,CAACoC,WAAW,EAAC,KAAMpC,IAAI,CAACoC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;MAC7FhC,MAAM,CAACiC,IAAI,CAAC;QAAErC,IAAI,EAAE,YAAY;QAAEsC,MAAM,EAAE;UAAEtC,IAAI,EAAEmC,IAAI,CAACI,QAAQ;UAAEJ,IAAI,EAAEA,IAAI,CAACnC;QAAK;MAAC,CAAC;IACrF;IAEA,OAAO;MACLG,KAAK;MACLE,IAAI;MACJM,QAAQ;MACRuB;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}