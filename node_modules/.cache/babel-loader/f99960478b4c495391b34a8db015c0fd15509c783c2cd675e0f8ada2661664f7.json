{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from \"@/store\";\nimport SearchProfession from \"@/components/SearchProfession.vue\";\nconst routes = [{\n  path: '/',\n  redirect: '/tests'\n}, {\n  path: '/tests',\n  name: 'tests',\n  component: () => import('@/views/Tests.vue')\n}, {\n  path: '/prof/:name',\n  name: 'prof',\n  component: () => import('@/views/ProfOrientation.vue'),\n  props: true\n}, {\n  path: '/test/:name',\n  name: 'test',\n  component: () => import('@/views/Test.vue'),\n  props: true\n}, {\n  path: '/result',\n  name: 'result',\n  component: () => import('@/views/Result.vue')\n}, {\n  path: '/reset',\n  name: 'reset',\n  component: () => import('@/views/Reset.vue')\n}, {\n  path: '/professions',\n  name: 'Professions',\n  component: () => import('@/views/Professions.vue')\n}, {\n  path: '/professions/:name',\n  name: 'Exact_Professions',\n  component: () => import('@/views/ExactProfessions.vue')\n}, {\n  path: '/professions/:name/:prof',\n  name: 'Profession',\n  component: () => import('@/views/Profession.vue')\n}, {\n  path: '/edu/:city',\n  name: 'Edu',\n  component: () => import('@/views/Edu.vue')\n}, {\n  path: '/university/:uniName',\n  name: 'University',\n  component: () => import('@/views/University.vue'),\n  props: true\n}, {\n  path: '/request/:uniName',\n  name: 'Request',\n  component: () => import('@/views/Request.vue'),\n  props: true\n}, {\n  path: '/faq',\n  name: 'faq',\n  component: () => import('@/views/FAQ.vue')\n}, {\n  path: '/search/:text',\n  name: 'search',\n  component: () => import('@/views/Search.vue'),\n  props: true\n}, {\n  path: '/account',\n  name: 'Account',\n  component: () => import('@/views/Account.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/history',\n  name: 'History',\n  component: () => import('@/views/History.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/admin',\n  name: 'Admin',\n  component: () => import('@/views/Admin.vue'),\n  children: [{\n    path: '',\n    name: 'prof',\n    component: () => import('@/components/AdminProf.vue'),\n    exact: true\n  }, {\n    path: '',\n    name: 'user',\n    component: () => import('@/components/AdminUser.vue'),\n    exact: true\n  }, {\n    path: '',\n    name: 'university',\n    component: () => import('@/components/AdminUniversity.vue'),\n    exact: true\n  }],\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/:pathMatch(.*)*\",\n  component: () => import('@/views/PageNotFound.vue')\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: \"active\",\n  linkExactActiveClass: \"exact-active\"\n});\n\n// Validation for auth\n// If the user is not logged in and tries to go to special pages for users, then he redirects to the tests page\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // this route requires auth, check if logged in\n    if (localStorage.getItem('jwt_token')) next();else if (!store.getters.getAuth && !store.getters.getAdmin) next({\n      name: 'tests'\n    });else next(); // go to wherever I'm going\n  } else next(); // does not require auth, make sure to always call next()!\n});\n\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","SearchProfession","routes","path","redirect","name","component","props","meta","requiresAuth","children","exact","router","history","process","env","BASE_URL","linkActiveClass","linkExactActiveClass","beforeEach","to","from","next","matched","some","record","localStorage","getItem","getters","getAuth","getAdmin"],"sources":["E:/Vue/career_guidance/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from \"@/store\";\nimport SearchProfession from \"@/components/SearchProfession.vue\";\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/tests'\n  },\n  {\n    path: '/tests',\n    name: 'tests',\n    component: () => import('@/views/Tests.vue')\n  },\n  {\n    path: '/prof/:name',\n    name: 'prof',\n    component: () => import('@/views/ProfOrientation.vue'),\n    props: true\n  },\n  {\n    path: '/test/:name',\n    name: 'test',\n    component: () => import('@/views/Test.vue'),\n    props: true\n  },\n  {\n    path: '/result',\n    name: 'result',\n    component: () => import('@/views/Result.vue')\n  },\n  {\n    path: '/reset',\n    name: 'reset',\n    component: () => import('@/views/Reset.vue')\n  },\n  {\n    path: '/professions',\n    name: 'Professions',\n    component: () => import('@/views/Professions.vue')\n  },\n  {\n    path: '/professions/:name',\n    name: 'Exact_Professions',\n    component: () => import('@/views/ExactProfessions.vue')\n  },\n  {\n    path: '/professions/:name/:prof',\n    name: 'Profession',\n    component: () => import('@/views/Profession.vue')\n  },\n  {\n    path: '/edu/:city',\n    name: 'Edu',\n    component: () => import('@/views/Edu.vue')\n  },\n  {\n    path: '/university/:uniName',\n    name: 'University',\n    component: () => import('@/views/University.vue'),\n    props: true\n  },\n  {\n    path: '/request/:uniName',\n    name: 'Request',\n    component: () => import('@/views/Request.vue'),\n    props: true\n  },\n  {\n    path: '/faq',\n    name: 'faq',\n    component: () => import('@/views/FAQ.vue')\n  },\n  {\n    path: '/search/:text',\n    name: 'search',\n    component: () => import('@/views/Search.vue'),\n    props: true\n  },\n  {\n    path: '/account',\n    name: 'Account',\n    component: () => import('@/views/Account.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: '/history',\n    name: 'History',\n    component: () => import('@/views/History.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: () => import('@/views/Admin.vue'),\n    children: [\n      {\n        path: '',\n        name: 'prof',\n        component: () => import('@/components/AdminProf.vue'),\n        exact: true\n      },\n      {\n        path: '',\n        name: 'user',\n        component: () => import('@/components/AdminUser.vue'),\n        exact: true\n      },\n      {\n        path: '',\n        name: 'university',\n        component: () => import('@/components/AdminUniversity.vue'),\n        exact: true\n      }\n    ],\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: \"/:pathMatch(.*)*\",\n    component: () => import('@/views/PageNotFound.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: \"active\",\n  linkExactActiveClass: \"exact-active\",\n})\n\n// Validation for auth\n// If the user is not logged in and tries to go to special pages for users, then he redirects to the tests page\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // this route requires auth, check if logged in\n    if (localStorage.getItem('jwt_token'))\n      next()\n    else if(!store.getters.getAuth && !store.getters.getAdmin)\n      next({ name: 'tests' })\n    else\n      next() // go to wherever I'm going\n  }\n  else\n    next() // does not require auth, make sure to always call next()!\n\n})\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}