{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, ref } from \"vue\";\nexport default {\n  name: \"Comments\",\n  setup() {\n    const today = new Date();\n    const yyyy = today.getFullYear();\n    let mm = today.getMonth() + 1; // Months start at 0!\n    let dd = today.getDate();\n    if (dd < 10) dd = '0' + dd;\n    if (mm < 10) mm = '0' + mm;\n    const formattedToday = dd + '-' + mm + '-' + yyyy;\n    let active = ref({\n      like: false,\n      dislike: false\n    });\n    let stars = ref(0);\n    let inputComment = ref('');\n    let starSave = star => stars.value = star;\n    let putLikeDis = function (mainInter, oppositeInter, userId, putted, reversed) {\n      if (mainInter.indexOf(userId) == -1 && oppositeInter.indexOf(userId) == -1) {\n        mainInter.push(userId);\n        active.value[putted] = true;\n      } else if (mainInter.indexOf(userId) == -1 && oppositeInter.indexOf(userId) != -1) {\n        mainInter.push(userId);\n        oppositeInter.splice(oppositeInter.findIndex(id => id === userId), 1);\n        active.value[putted] = true;\n        active.value[reversed] = false;\n      } else if (mainInter.indexOf(userId) != -1 && oppositeInter.indexOf(userId) == -1) {\n        mainInter.splice(mainInter.findIndex(id => id === userId), 1);\n        active.value[putted] = false;\n      }\n    };\n    let leaveAComment = function () {\n      comments.value.push({\n        user: 'guest',\n        date: formattedToday,\n        stars: stars,\n        comment: inputComment.value,\n        usersIdLikes: [],\n        usersIdDislikes: []\n      });\n    };\n    let comments = ref([{\n      user: 'username',\n      date: formattedToday,\n      stars: 4,\n      comment: 'Хороший тест!',\n      usersIdLikes: [1, 2],\n      usersIdDislikes: []\n    }]);\n    return {\n      comments,\n      putLikeDis,\n      active,\n      starSave,\n      leaveAComment,\n      inputComment\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","name","setup","today","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","formattedToday","active","like","dislike","stars","inputComment","starSave","star","value","putLikeDis","mainInter","oppositeInter","userId","putted","reversed","indexOf","push","splice","findIndex","id","leaveAComment","comments","user","date","comment","usersIdLikes","usersIdDislikes"],"sources":["E:\\Vue\\career_guidance\\src\\components\\Comments.vue"],"sourcesContent":["<template>\r\n<div class=\"comments\">\r\n  <h2 class=\"comments__title\">Поделитесь со своми впечатлениями ({{ comments.length }})</h2>\r\n  <div class=\"comments__leaveAComment\">\r\n    <span class=\"comments__stars\">\r\n      <input type=\"radio\" name=\"rating\" value=\"1\" id=\"5\" @click=\"starSave($event.target.value)\"><label for=\"5\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"2\" id=\"4\" @click=\"starSave($event.target.value)\"><label for=\"4\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"3\" id=\"3\" @click=\"starSave($event.target.value)\"><label for=\"3\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"4\" id=\"2\" @click=\"starSave($event.target.value)\"><label for=\"2\">☆</label>\r\n      <input type=\"radio\" name=\"rating\" value=\"5\" id=\"1\" @click=\"starSave($event.target.value)\"><label for=\"1\">☆</label>\r\n    </span>\r\n    <div class=\"comments__input\">\r\n      <input\r\n          class=\"comments__input-input\"\r\n          type=\"text\"\r\n          placeholder=\"Напишите комментарий\"\r\n          v-on:keyup.enter=\"leaveAComment\"\r\n          v-model=\"inputComment\"\r\n      >\r\n      <img\r\n          class=\"comments__input-img\"\r\n          src=\"../images/png/ArrowToRightBlue.png\"\r\n          alt=\"arrow\"\r\n          @click=\"leaveAComment\"\r\n      >\r\n    </div>\r\n  </div><!-- ./comments__leaveAComment -->\r\n  <div class=\"comments__list\">\r\n    <div class=\"comments__item\" v-for=\"comment in comments\" :key=\"comment.date\">\r\n      <div class=\"comments__user\">\r\n        <div class=\"comments__user-name\">{{ comment.user }}</div>\r\n        <div class=\"comments__user-date\">{{ comment.date }}</div>\r\n        <div class=\"comments__user-stars\">\r\n          <img src=\"../images/png/Star-black.png\" alt=\"star\" v-for=\"item in comment.stars\">\r\n        </div>\r\n      </div><!-- ./comments__user -->\r\n      <div class=\"comments__item-text\">{{ comment.comment }}</div>\r\n      <div class=\"comments__item-interaction\">\r\n        <div class=\"comments__item-answer\">Ответить</div>\r\n        <div class=\"comments__item-response\">\r\n          <div class=\"comments__item-likes\">\r\n            <img\r\n                @click=\"putLikeDis(comment.usersIdLikes, comment.usersIdDislikes, 3, 'like', 'dislike')\"\r\n                class=\"comments__item-interactionImage\"\r\n                :class=\"active.like ? 'active' : ''\"\r\n                src=\"../images/png/mdi_like.png\"\r\n                alt=\"likes\">\r\n            <span>{{ comment.usersIdLikes.length }}</span>\r\n          </div>\r\n          <div class=\"comments__item-dislikes\">\r\n            <img\r\n                @click=\"putLikeDis(comment.usersIdDislikes, comment.usersIdLikes, 3, 'dislike', 'like')\"\r\n                class=\"comments__item-interactionImage\"\r\n                :class=\"active.dislike ? 'active' : ''\"\r\n                src=\"../images/png/mdi_dislike.png\"\r\n                alt=\"dislike\">\r\n            <span>{{ comment.usersIdDislikes.length }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div><!-- ./comments__item -->\r\n  </div><!-- ./comments__list -->\r\n</div><!-- ./comments -->\r\n</template>\r\n\r\n<script>\r\nimport {computed, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: \"Comments\",\r\n  setup () {\r\n    const today = new Date();\r\n    const yyyy = today.getFullYear();\r\n    let mm = today.getMonth() + 1; // Months start at 0!\r\n    let dd = today.getDate();\r\n    if (dd < 10) dd = '0' + dd;\r\n    if (mm < 10) mm = '0' + mm;\r\n    const formattedToday = dd + '-' + mm + '-' + yyyy;\r\n\r\n    let active = ref({ like: false, dislike: false });\r\n    let stars = ref(0);\r\n    let inputComment = ref('');\r\n\r\n    let starSave = (star) => stars.value = star;\r\n\r\n    let putLikeDis = function (mainInter, oppositeInter, userId, putted, reversed) {\r\n\r\n      if (mainInter.indexOf(userId) == -1 && oppositeInter.indexOf(userId) == -1) {\r\n        mainInter.push(userId);\r\n        active.value[putted]= true;\r\n      }\r\n      else if (mainInter.indexOf(userId) == -1 && oppositeInter.indexOf(userId) != -1) {\r\n        mainInter.push(userId);\r\n        oppositeInter.splice(oppositeInter.findIndex(id => id === userId), 1);\r\n        active.value[putted] = true;\r\n        active.value[reversed] = false;\r\n      }\r\n      else if (mainInter.indexOf(userId) != -1 && oppositeInter.indexOf(userId) == -1) {\r\n        mainInter.splice(mainInter.findIndex(id => id === userId), 1)\r\n        active.value[putted] = false;\r\n      }\r\n    };\r\n\r\n    let leaveAComment = function () {\r\n      comments.value.push({\r\n        user: 'guest',\r\n        date: formattedToday,\r\n        stars: stars,\r\n        comment: inputComment.value,\r\n        usersIdLikes: [],\r\n        usersIdDislikes: []\r\n      })\r\n    }\r\n\r\n    let comments = ref([\r\n      {\r\n        user: 'username',\r\n        date: formattedToday,\r\n        stars: 4,\r\n        comment: 'Хороший тест!',\r\n        usersIdLikes: [1, 2],\r\n        usersIdDislikes: []\r\n      },\r\n    ]);\r\n    return {\r\n      comments,\r\n      putLikeDis,\r\n      active,\r\n      starSave,\r\n      leaveAComment,\r\n      inputComment\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}